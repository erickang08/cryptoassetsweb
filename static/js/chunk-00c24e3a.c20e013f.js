(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c24e3a"],{"1ae1":function(t,e,a){},3155:function(t,e,a){"use strict";var n=a("1ae1"),i=a.n(n);i.a},5161:function(t,e,a){"use strict";var n=a("a99f"),i=a.n(n);i.a},"527e":function(t,e,a){"use strict";var n=a("7a81"),i=a.n(n);i.a},"7a81":function(t,e,a){},9187:function(t,e,a){"use strict";var n=a("9194"),i=a.n(n);i.a},9194:function(t,e,a){},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a(t.currentRole,{tag:"component"})],1)},i=[],s=(a("6762"),a("2fdb"),a("db72")),r=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{attrs:{"panel-data":t.panel_value},on:{handleSetLineChartData:t.handleSetLineChartData}}),t._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("bar-chart",{attrs:{"chart-data":t.accountValue}})],1),t._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart",{attrs:{pieData:t.coinsValue}})],1)]),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:16}},[a("assets")],1)],1)],1)},c=[],o=(a("55dd"),a("96cf"),a("3b8d")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},d=[],h=a("313e"),p=a.n(h),f=a("ed08"),v={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(f["debounce"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var m={mixins:[v],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"450px"},autoResize:{type:Boolean,default:!0},chartData:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=p.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(t){for(var e=[],a=[],n=0;n<t.length;n++)e.push(Object(f["b"])(t[n].time)),a.push(t[n].value);this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},legend:{x:"5%",top:"10%",textStyle:{color:"#90979c"},data:["资产","平均"]},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"资产",type:"bar",stack:"vistors",symbolSize:10,symbol:"circle",barWidth:"60%",itemStyle:{normal:{color:"rgba(0,191,183,1)",barBorderRadius:0}},data:a},{name:"平均",type:"line",stack:"vistors",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"rgba(255,144,128,1)",barBorderRadius:0}},data:a}]})}}},_=m,b=a("2877"),g=Object(b["a"])(_,u,d,!1,null,null,null),C=g.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},y=[];a("7f7f");a("817d");var S={mixins:[v],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},pieData:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{pieData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},created:function(){},methods:{initChart:function(){this.chart=p.a.init(this.$el,"macarons"),this.setOptions(this.pieData)},setOptions:function(t){for(var e=[],a=0;a<t.length;a++){var n=t[a];e.push(n.name)}this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:e},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:t,animationEasing:"cubicInOut",animationDuration:2600}]})}}},x=S,D=Object(b["a"])(x,w,y,!1,null,null,null),T=D.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.assets,border:""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.id)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"平台",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.exchange_name)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"个性名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.nick_name)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"USDT估值",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.usdt)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"BTC估值",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.btc)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"详情",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.handle_view_detail(e)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-drawer",{attrs:{visible:t.dialog_visible,title:t.exchange_name,size:"35%"},on:{"update:visible":function(e){t.dialog_visible=e}}},[a("div",{staticClass:"filter-container"},[a("el-switch",{attrs:{"active-text":"BTC估值","inactive-text":"USDT估值"},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.currencies,border:"","default-sort":{prop:"id",order:"descending",prop:"usdt",order:"descending",prop:"btc",order:"descending",prop:"currency_name",order:"descending",prop:"free",order:"descending",prop:"frozen",order:"descending"}}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"80",sortable:"",prop:"id"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.id)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"币",width:"120",sortable:"",prop:"currency_name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.currency_name)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"可用",width:"150",sortable:"",prop:"free"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.free)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"冻结",width:"150",sortable:"",prop:"frozen"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.frozen)+"\n          ")]}}])}),t._v(" "),!0===t.showValue?a("el-table-column",{attrs:{align:"center",label:"估值(BTC)",width:"150",sortable:"",prop:"btc"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.btc)+"\n          ")]}}],null,!1,1502894984)}):t._e(),t._v(" "),!1===t.showValue?a("el-table-column",{attrs:{align:"center",label:"估值(USDT)",width:"150",sortable:"",prop:"usdt"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.usdt)+"\n          ")]}}],null,!1,4075562251)}):t._e()],1)],1)],1)},E=[],k=a("b775");function z(){return Object(k["a"])({url:"/asset_history",method:"get"})}function O(){return Object(k["a"])({url:"/asset",method:"get"})}function R(t){return Object(k["a"])({url:"/exchange_summary",method:"get",params:{id:t}})}function L(){return Object(k["a"])({url:"/coin_list",method:"get"})}var U={name:"Assets",data:function(){return{dialog_visible:!1,exchange_name:"",assets:[],currencies:[],listLoading:!0,showValue:!0}},created:function(){this.get_assets()},methods:{get_assets:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,O();case 3:e=t.sent,this.assets=e.data,this.listLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handle_view_detail:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.exchange_name=e.row.exchange_name,this.dialog_visible=!0,t.next=4,R(e.row.id);case 4:for(a=t.sent,n=[],i=a.data,s=0;s<i.length;s++)n.push({id:i[s].ID,currency_name:i[s].coin_name,free:i[s].amount,frozen:i[s].frozen_amount,usdt:i[s].usdt.toFixed(4),btc:i[s].btc.toFixed(8)});this.currencies=n;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},j=U,B=(a("9187"),Object(b["a"])(j,$,E,!1,null,"4a5f2d5d",null)),N=B.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("BTC")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"BTC","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          BTC\n        ")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.BTC,duration:1e3,decimals:8}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("USDT")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"USDT","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          USDT\n        ")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.USDT,duration:1e3,decimals:4}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("USD")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"USD","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          USD\n        ")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.USD,duration:1e3,decimals:4}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("CNY")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"CNY","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("\n          CNY\n        ")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.CNY,duration:1e3,decimals:4}})],1)])])],1)},V=[],Y=a("ec1b"),H=a.n(Y),P={components:{CountTo:H.a},props:{className:{type:String,default:"panelGroup"},panelData:{type:Object,required:!0}},data:function(){return{BTC:0,USDT:0,USD:0,CNY:0}},watch:{panelData:{deep:!0,handler:function(t){this.handleSetPanelData(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initPanel()}))},methods:{initPanel:function(){this.handleSetPanelData(this.panelData)},handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)},handleSetPanelData:function(t){this.BTC=t.BTC,this.USDT=t.USDT,this.USD=t.USD,this.CNY=t.CNY}}},F=P,I=(a("5161"),Object(b["a"])(F,A,V,!1,null,"655f1f99",null)),G=I.exports,W={name:"DashboardAdmin",components:{PanelGroup:G,PieChart:T,BarChart:C,Assets:N},data:function(){return{accountAllValue:{BTC:[],USDT:[],USD:[],CNY:[]},accountValue:[],coinsValue:[],panel_value:{BTC:0,USDT:0,USD:0,CNY:0}}},created:function(){this.get_account(),this.get_CoinList()},methods:{handleSetLineChartData:function(t){this.accountValue=this.accountAllValue[t]},get_account:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,s,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z();case 2:for(e=t.sent,a=e.data,n=[],i=[],s=[],r=[],l=0;l<a.length;l++)n.push({time:a[l].CreatedAt,value:a[l].btc.toFixed(8)}),i.push({time:a[l].CreatedAt,value:a[l].usdt.toFixed(4)}),s.push({time:a[l].CreatedAt,value:a[l].usd.toFixed(4)}),r.push({time:a[l].CreatedAt,value:a[l].cny.toFixed(4)});this.accountAllValue.BTC=n,this.accountAllValue.USDT=i,this.accountAllValue.USD=s,this.accountAllValue.CNY=r,this.handleSetLineChartData("USDT"),this.panel_value.BTC=n[n.length-1].value,this.panel_value.USDT=i[i.length-1].value,this.panel_value.USD=s[s.length-1].value,this.panel_value.CNY=r[r.length-1].value;case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),get_CoinList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("get_CoinList"),t.next=3,L();case 3:for(e=t.sent,a=e.data,a.sort(this.compare("value")),n=a.length>7?7:a.length,i=0;i<n;i++)this.coinsValue.push(a[i]);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),compare:function(t){return function(e,a){var n=e[t],i=a[t];return i-n}}}},q=W,J=(a("527e"),Object(b["a"])(q,l,c,!1,null,"43cc72a8",null)),K=J.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:" clearfix"},[a("pan-thumb",{staticStyle:{float:"left"},attrs:{image:t.avatar}},[t._v("\n      Your roles:\n      "),t._l(t.roles,(function(e){return a("span",{key:e,staticClass:"pan-info-roles"},[t._v(t._s(e))])}))],2),t._v(" "),a("github-corner",{staticStyle:{position:"absolute",top:"0px",border:"0",right:"0"}}),t._v(" "),a("div",{staticClass:"info-container"},[a("span",{staticClass:"display_name"},[t._v(t._s(t.name))]),t._v(" "),a("span",{staticStyle:{"font-size":"20px","padding-top":"20px",display:"inline-block"}},[t._v("Editor's Dashboard")])])],1),t._v(" "),a("div",[a("img",{staticClass:"emptyGif",attrs:{src:t.emptyGif}})])])},Q=[],X={name:"DashboardEditor",data:function(){return{emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3"}},computed:Object(s["a"])({},Object(r["b"])(["name","avatar","roles"]))},Z=X,tt=(a("3155"),Object(b["a"])(Z,M,Q,!1,null,"07f4aa2c",null)),et=tt.exports,at={name:"Dashboard",components:{adminDashboard:K,editorDashboard:et},data:function(){return{currentRole:"adminDashboard"}},computed:Object(s["a"])({},Object(r["b"])(["roles"])),created:function(){this.roles.includes("admin")||(this.currentRole="editorDashboard")}},nt=at,it=Object(b["a"])(nt,n,i,!1,null,null,null);e["default"]=it.exports},a99f:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"b",(function(){return n}));a("456d"),a("ac6a"),a("28a5"),a("f576"),a("a481"),a("6b54"),a("7618");function n(t){var e=t.split("."),a=e[0].replace("T"," ");return a}}}]);